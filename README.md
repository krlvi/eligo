# eligo

the app allows to collaborate on arbitrary lists and randomly pick items from those lists.
we use it on a daily basis to decide where to get lunch at.

random is _actually_ random, using numbers generated by a quantum computer at [ANU QRNG][].

## architecture

- [protocol](./src/lib/protocol/) contains definitions of types and functions shared between frontend and backend.
- [state](./src/lib/state/) contains definitions of all possible events and a reducer to reduce event log into state.
- [backend](./src/lib/server/) holds a global app state and synronizes clients' states via websockets.
- [frontend](./src/routes/) renders ui, holds a local state and creates events via websockets.

## development

```
$ pnpm dev
```

### ssl

[mkcert][] is required to make development ssl work

### database

local database will be created as [./backend/database.dev.jsonl](./database.dev.jsonl).

## deployment

```sh
fly deploy
```

from the root directory. It's is also automatically deployed for every new commit in master.

[sveltekit]: https://sveltekit.io/
[typescript]: https://www.typescriptlang.org/
[fly.io]: https://fly.io/
[vercel]: https://vercel.com/
[anu qrng]: https://qrng.anu.edu.au
[mkcert]: https://github.com/FiloSottile/mkcert
